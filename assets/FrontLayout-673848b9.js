import{p as P,m as j,a as O,g as p,u as A,c as o,b as te,d as ae,e as G,f as W,h as J,t as N,i as oe,j as le,k as K,l as ne,n as de,s as B,o as g,q as ve,V as me,r as X,v as $,w as ge,x as Q,y as fe,z as M,A as he,B as be,C as se,D as ye,E as Ve,F as re,G as F,H as xe,I as _e,J as D,K as Se,L as ke,M as Be,N as Ce,O as Te,P as we,Q as Ie,R as Le,S as Ne,T as Pe,U as pe,W as R,X as Ae,_ as Re,Y as Fe,Z as He,$ as ze,a0 as w,a1 as x,a2 as n,a3 as I,a4 as L,a5 as Ee,a6 as Ue,a7 as d,a8 as E,a9 as q,aa as S,ab as $e,ac as k,ad as De,ae as Me,af as Ye,ag as je,ah as Oe,ai as Xe,aj as qe}from"./index-80d7f52a.js";import{V as Ge,a as We}from"./VNavigationDrawer-40f14327.js";import{u as Je,V as Z,a as Ke}from"./VList-e21809c3.js";import{V as U,a as Y}from"./VListItem-a6cca2a6.js";import{V as Qe}from"./VContainer-8ac70d2b.js";import{V as Ze}from"./VRow-da8767c0.js";import{V as et}from"./VCol-f52f2bcb.js";import{V as tt}from"./VMenu-9cdfd628.js";import"./VDivider-07b494a9.js";const ue=P({text:String,...j(),...O()},"VToolbarTitle"),ie=p()({name:"VToolbarTitle",props:ue(),setup(e,m){let{slots:t}=m;return A(()=>{const h=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[h&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),at=[null,"prominent","default","comfortable","compact"],ce=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>at.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...te(),...j(),...ae(),...G(),...O({tag:"header"}),...W()},"VToolbar"),ee=p()({name:"VToolbar",props:ce(),setup(e,m){var r;let{slots:t}=m;const{backgroundColorClasses:h,backgroundColorStyles:l}=J(N(e,"color")),{borderClasses:s}=oe(e),{elevationClasses:y}=le(e),{roundedClasses:b}=K(e),{themeClasses:_}=ne(e),{rtlClasses:V}=de(),u=B(!!(e.extended||(r=t.extension)!=null&&r.call(t))),f=g(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),c=g(()=>u.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ve({VBtn:{variant:"text"}}),A(()=>{var v;const a=!!(e.title||t.title),i=!!(t.image||e.image),C=(v=t.extension)==null?void 0:v.call(t);return u.value=!!(e.extended||C),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},h.value,s.value,y.value,b.value,_.value,V.value,e.class],style:[l.value,e.style]},{default:()=>[i&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(me,{key:"image-img",cover:!0,src:e.image},null)]),o(X,{defaults:{VTabs:{height:$(f.value)}}},{default:()=>{var T,H,z;return[o("div",{class:"v-toolbar__content",style:{height:$(f.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(T=t.prepend)==null?void 0:T.call(t)]),a&&o(ie,{key:"title",text:e.title},{text:t.title}),(H=t.default)==null?void 0:H.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(z=t.append)==null?void 0:z.call(t)])])]}}),o(X,{defaults:{VTabs:{height:$(c.value)}}},{default:()=>[o(ge,null,{default:()=>[u.value&&o("div",{class:"v-toolbar__extension",style:{height:$(c.value)}},[C])]})]})]})}),{contentHeight:f,extensionHeight:c}}}),ot=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function lt(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=m;let h=0;const l=Q(null),s=B(0),y=B(0),b=B(0),_=B(!1),V=B(!1),u=g(()=>Number(e.scrollThreshold)),f=g(()=>fe((u.value-s.value)/u.value||0)),c=()=>{const r=l.value;!r||t&&!t.value||(h=s.value,s.value="window"in r?r.pageYOffset:r.scrollTop,V.value=s.value<h,b.value=Math.abs(s.value-u.value))};return M(V,()=>{y.value=y.value||s.value}),M(_,()=>{y.value=0}),he(()=>{M(()=>e.scrollTarget,r=>{var i;const a=r?document.querySelector(r):window;a&&a!==l.value&&((i=l.value)==null||i.removeEventListener("scroll",c),l.value=a,l.value.addEventListener("scroll",c,{passive:!0}))},{immediate:!0})}),be(()=>{var r;(r=l.value)==null||r.removeEventListener("scroll",c)}),t&&M(t,c,{immediate:!0}),{scrollThreshold:u,currentScroll:s,currentThreshold:b,isScrollActive:_,scrollRatio:f,isScrollingUp:V,savedScroll:y}}const nt=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ce(),...se(),...ot(),height:{type:[Number,String],default:64}},"VAppBar"),st=p()({name:"VAppBar",props:nt(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:t}=m;const h=Q(),l=ye(e,"modelValue"),s=g(()=>{var T;const v=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),y=g(()=>{const v=s.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!l.value}),{currentScroll:b,scrollThreshold:_,isScrollingUp:V,scrollRatio:u}=lt(e,{canScroll:y}),f=g(()=>e.collapse||s.value.collapse&&(s.value.inverted?u.value>0:u.value===0)),c=g(()=>e.flat||s.value.elevate&&(s.value.inverted?b.value>0:b.value===0)),r=g(()=>s.value.fadeImage?s.value.inverted?1-u.value:u.value:void 0),a=g(()=>{var H,z;if(s.value.hide&&s.value.inverted)return 0;const v=((H=h.value)==null?void 0:H.contentHeight)??0,T=((z=h.value)==null?void 0:z.extensionHeight)??0;return v+T});Ve(g(()=>!!e.scrollBehavior),()=>{xe(()=>{s.value.hide?s.value.inverted?l.value=b.value>_.value:l.value=V.value||b.value<_.value:l.value=!0})});const{ssrBootStyles:i}=Je(),{layoutItemStyles:C}=re({id:e.name,order:g(()=>parseInt(e.order,10)),position:N(e,"location"),layoutSize:a,elementSize:B(void 0),active:l,absolute:N(e,"absolute")});return A(()=>{const v=ee.filterProps(e);return o(ee,F({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":r.value,height:void 0,...i.value},e.style]},v,{collapse:f.value,flat:c.value}),t)}),{}}}),rt=P({..._e({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ut=p()({name:"VAppBarNavIcon",props:rt(),setup(e,m){let{slots:t}=m;return A(()=>o(D,F(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),it=p()({name:"VAppBarTitle",props:ue(),setup(e,m){let{slots:t}=m;return A(()=>o(ie,F(e,{class:"v-app-bar-title"}),t)),{}}});const ct=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Se,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...j(),...ke({location:"top end"}),...G(),...O(),...W(),...Be({transition:"scale-rotate-transition"})},"VBadge"),dt=p()({name:"VBadge",inheritAttrs:!1,props:ct(),setup(e,m){const{backgroundColorClasses:t,backgroundColorStyles:h}=J(N(e,"color")),{roundedClasses:l}=K(e),{t:s}=Ce(),{textColorClasses:y,textColorStyles:b}=Te(N(e,"textColor")),{themeClasses:_}=we(),{locationStyles:V}=Ie(e,!0,u=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(u)?+(e.offsetY??0):["left","right"].includes(u)?+(e.offsetX??0):0));return A(()=>{const u=Number(e.content),f=!e.max||isNaN(u)?e.content:u<=+e.max?u:`${e.max}+`,[c,r]=Le(m.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},r,{style:e.style}),{default:()=>{var a,i;return[o("div",{class:"v-badge__wrapper"},[(i=(a=m.slots).default)==null?void 0:i.call(a),o(Ne,{transition:e.transition},{default:()=>{var C,v;return[Pe(o("span",F({class:["v-badge__badge",_.value,t.value,l.value,y.value],style:[h.value,b.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":s(e.label,u),"aria-live":"polite",role:"status"},c),[e.dot?void 0:m.slots.badge?(v=(C=m.slots).badge)==null?void 0:v.call(C):e.icon?o(R,{icon:e.icon},null):f]),[[pe,e.modelValue]])]}})])]}})}),{}}});const vt=P({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...te(),...j(),...ae(),...se(),...G(),...O({tag:"footer"}),...W()},"VFooter"),mt=p()({name:"VFooter",props:vt(),setup(e,m){let{slots:t}=m;const{themeClasses:h}=ne(e),{backgroundColorClasses:l,backgroundColorStyles:s}=J(N(e,"color")),{borderClasses:y}=oe(e),{elevationClasses:b}=le(e),{roundedClasses:_}=K(e),V=B(32),{resizeRef:u}=Ae(r=>{r.length&&(V.value=r[0].target.clientHeight)}),f=g(()=>e.height==="auto"?V.value:parseInt(e.height,10)),{layoutItemStyles:c}=re({id:e.name,order:g(()=>parseInt(e.order,10)),position:g(()=>"bottom"),layoutSize:f,elementSize:g(()=>e.height==="auto"?void 0:f.value),active:g(()=>e.app),absolute:N(e,"absolute")});return A(()=>o(e.tag,{ref:u,class:["v-footer",h.value,l.value,y.value,b.value,_.value,e.class],style:[s.value,e.app?c.value:{height:$(e.height)},e.style]},t)),{}}});const gt=e=>(je("data-v-752e796c"),e=e(),Oe(),e),ft=gt(()=>Xe("strong",null,"剪單",-1)),ht={__name:"FrontLayout",setup(e){const{apiAuth:m}=qe(),t=Ee(),h=Fe(),l=He(),{mobile:s}=ze(),y=g(()=>s.value),b=Q(!1),_=g(()=>[{to:"/serve",text:"服務",icon:"mdi-head-heart",show:l.isLogin||!l.isLogin},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!l.isLogin},{to:"/login",text:"登入",icon:"mdi-login",show:!l.isLogin},{icon:"mdi-calendar",text:"預約",show:l.isLogin,subItems:[{to:"/reserve",text:"立即預約",icon:"mdi-calendar-plus"},{to:"/check",text:"預約紀錄",icon:"mdi-calendar-text"}]},{icon:"mdi-cart",text:"商品",show:l.isLogin,subItems:[{to:"/buy",text:"商品列表",icon:"mdi-cart"},{to:"/cart",text:"購物車",icon:"mdi-cart"},{to:"/orders",text:"訂單",icon:"mdi-list-box"}]},{to:"/admin",text:"管理",icon:"mdi-cog",show:l.isLogin&&l.isAdmin},{to:"/manage",text:"會員資料",icon:"mdi-account",show:l.isLogin}]),V=async()=>{var f,c;try{await m.delete("/users/logout"),l.logout(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),t.push("/")}catch(r){const a=((c=(f=r==null?void 0:r.response)==null?void 0:f.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";h({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},u=g(()=>["Home","About Us","Team","Services","Blog","Contact Us"]);return(f,c)=>{const r=Ue("RouterView");return d(),w(L,null,[y.value?(d(),x(Ge,{key:0,modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=a=>b.value=a),temporary:"",location:"left"},{default:n(()=>[o(Z,{nav:""},{default:n(()=>[(d(!0),w(L,null,E(_.value,a=>(d(),w(L,{key:a},[a.subItems&&a.subItems.length>0?(d(),x(Ke,{key:0,modelValue:a.active,"onUpdate:modelValue":i=>a.active=i,"prepend-icon":a.icon},De({default:n(()=>[(d(!0),w(L,null,E(a.subItems,i=>(d(),x(U,{key:i.to,to:i.to},{default:n(()=>[o(R,{class:"mx-2",icon:i.icon,size:18},null,8,["icon"]),S(k(i.text),1)]),_:2},1032,["to"]))),128))]),_:2},[a.show?{name:"activator",fn:n(({props:i})=>[o(U,Me(Ye(i)),{default:n(()=>[o(Y,null,{default:n(()=>[S(k(a.text),1)]),_:2},1024)]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","prepend-icon"])):(d(),x(U,{key:1,to:a.to},{default:n(()=>[o(R,{icon:a.icon},null,8,["icon"]),o(Y,null,{default:n(()=>[S(k(a.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128)),q(l).isLogin?(d(),x(U,{key:0,onClick:V},{prepend:n(()=>[o(R,{icon:"mdi-logout"})]),default:n(()=>[o(Y,null,{default:n(()=>[S("登出")]),_:1})]),_:1})):I("",!0)]),_:1})]),_:1},8,["modelValue"])):I("",!0),o(st,null,{default:n(()=>[o(Qe,{class:"d-flex align-center"},{default:n(()=>[o(D,{to:"/",active:!1},{default:n(()=>[o(it,{style:{"font-size":"2rem"}},{default:n(()=>[S("剪單")]),_:1})]),_:1}),o($e),y.value?(d(),x(ut,{key:0,onClick:c[1]||(c[1]=a=>b.value=!0)})):(d(!0),w(L,{key:1},E(_.value,a=>(d(),x(tt,{key:a.to,"open-on-hover":""},{activator:n(({props:i})=>[a.show?(d(),x(D,F({key:0},i,{text:"",key:a.to,to:a.to}),{default:n(()=>[a.icon?(d(),x(R,{key:0},{default:n(()=>[S(k(a.icon),1)]),_:2},1024)):I("",!0),S(k(a.text),1),a.to==="/cart"?(d(),x(dt,{key:1,color:"error",content:q(l).cart,floating:""},null,8,["content"])):I("",!0)]),_:2},1040,["to"])):I("",!0)]),default:n(()=>[a.subItems&&a.subItems.length>0?(d(),x(Z,{key:0},{default:n(()=>[(d(!0),w(L,null,E(a.subItems,i=>(d(),x(U,{key:i.to,to:i.to},{default:n(()=>[o(Y,null,{default:n(()=>[o(R,{class:"mx-2",icon:i.icon,size:16},null,8,["icon"]),S(k(i.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):I("",!0)]),_:2},1024))),128)),q(l).isLogin?(d(),x(D,{key:2,"prepend-icon":"mdi-logout",onClick:V},{default:n(()=>[S("登出")]),_:1})):I("",!0)]),_:1})]),_:1}),o(We,null,{default:n(()=>[(d(),x(r,{key:f.$route.path}))]),_:1}),o(mt,null,{default:n(()=>[o(Ze,{justify:"center","no-gutters":""},{default:n(()=>[(d(!0),w(L,null,E(u.value,a=>(d(),x(D,{class:"mx-2",key:a,color:"white",variant:"text",rounded:"xl"},{default:n(()=>[S(k(a),1)]),_:2},1024))),128)),o(et,{class:"text-center mt-4",cols:"12"},{default:n(()=>[S(k(new Date().getFullYear())+" — ",1),ft]),_:1})]),_:1})]),_:1})],64)}}},Tt=Re(ht,[["__scopeId","data-v-752e796c"]]);export{Tt as default};
