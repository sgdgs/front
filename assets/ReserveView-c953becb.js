import{_ as M,Y as P,x as d,o as R,a1 as T,a2 as l,ak as $,a4 as F,a6 as U,c as a,a9 as e,av as q,aw as v,J as z,aa as N,aq as A,au as j,az as H,ah as J,ai as L,aj as o}from"./index-55e1d8e3.js";import{v as W}from"./index-613389ce.js";import{c as Y,a as w,u as E,d as _}from"./index.esm-0a7be430.js";import{V as G}from"./VContainer-a7985239.js";import{V as h}from"./VCol-da2a5a46.js";import{V as K}from"./VForm-267f3c06.js";import{V as O}from"./VSelect-8e7f3da9.js";import{V as Q}from"./VRow-6cc5406a.js";import"./VList-c78d230e.js";import"./VListItem-ee01f886.js";import"./VDivider-d1e2d646.js";import"./VMenu-4d3f5a01.js";const s=i=>(J("data-v-07c71bd7"),i=i(),L(),i),X=s(()=>o("h1",null,"預約日期",-1)),Z=s(()=>o("h2",null,"預約注意事項",-1)),ee=s(()=>o("p",null,"●每週一固定公休",-1)),ae=s(()=>o("p",null,"●為服務流程方便操作避免穿著高領衣物",-1)),te=s(()=>o("p",null,"●建議大家可以選擇平日下午前來剪單髮廊，可以避開人潮較多時段",-1)),oe=s(()=>o("p",null,"●剪髮：流程約 1 hr",-1)),se=s(()=>o("p",null,"●染髮：流程約 1-2 hr",-1)),le=s(()=>o("p",null,"●燙髮：流程約 2-3 hr",-1)),re=s(()=>o("p",null,"●特殊 燙/染 ：流程約 2-3 hr",-1)),ne=s(()=>o("p",null,"●護髮：流程約 1 hr",-1)),ue={__name:"ReserveView",setup(i){const{apiAuth:x}=$(),S=F(),V=P(),y=Y({name:w().required("姓名為必填欄位"),phone:w().required("電話為必填欄位").test("isPhone","電話格式錯誤",r=>W.isMobilePhone(r,"zh-TW"))}),{handleSubmit:k,isSubmitting:f}=E({validationSchema:y,initialValues:{name:"",phone:"",date:new Date,service:"",user:""}}),m=_("name"),c=_("phone"),u=_("date"),C=d(["洗髮","剪髮","燙髮","染髮","護髮"]),p=d(null),b=k(async r=>{try{await x.post("/reserve/",{date:r.date,name:r.name,phone:r.phone,service:p.value,user:r.user}),V({text:"預約成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),S.push("/check")}catch(t){console.log(t),V({text:"預約失敗",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),D={hours:{min:10,max:17},minutes:{interval:60}},B=d([{repeat:{weekdays:[2]}}]),g=d(new Date);setInterval(()=>{g.value=new Date},6e4);const I=R(()=>`${u.value.value.toLocaleDateString()}/ ${u.value.value.getHours()}:${u.value.value.getMinutes().toString().padStart(2,"0")}`);return(r,t)=>(U(),T(G,null,{default:l(()=>[X,a(Q,null,{default:l(()=>[a(h,{cols:"12",sm:"6",class:"left"},{default:l(()=>[a(e(H),{style:{width:"80%","margin-left":"10%"},modelValue:e(u).value.value,"onUpdate:modelValue":t[0]||(t[0]=n=>e(u).value.value=n),mode:"dateTime",rules:D,"min-date":g.value,"disabled-dates":B.value},null,8,["modelValue","min-date","disabled-dates"]),a(h,{cols:"12",style:{width:"80%","margin-left":"10%"}},{default:l(()=>[a(K,{disabled:e(f),onSubmit:q(e(b),["prevent"])},{default:l(()=>[a(v,{"model-value":I.value,label:"預約日期",readonly:"","error-messages":e(u).errorMessage.value},null,8,["model-value","error-messages"]),a(v,{modelValue:e(m).value.value,"onUpdate:modelValue":t[1]||(t[1]=n=>e(m).value.value=n),label:"姓名","error-messages":e(m).errorMessage.value},null,8,["modelValue","error-messages"]),a(v,{modelValue:e(c).value.value,"onUpdate:modelValue":t[2]||(t[2]=n=>e(c).value.value=n),label:"電話","error-messages":e(c).errorMessage.value},null,8,["modelValue","error-messages"]),a(O,{modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=n=>p.value=n),label:"服務項目",items:C.value,variant:"outlined"},null,8,["modelValue","items"]),a(z,{style:{width:"30%","font-size":"1.5rem","margin-left":"50%",transform:"translate(-50%)"},color:"brown-lighten-1",onClick:e(b),type:"submit",loading:e(f)},{default:l(()=>[N("預約 ")]),_:1},8,["onClick","loading"])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1}),a(h,{cols:"12",sm:"6"},{default:l(()=>[a(A,{style:{"margin-top":"20%"}},{default:l(()=>[a(j,{style:{margin:"10px"}},{default:l(()=>[Z,ee,ae,te,oe,se,le,re,ne]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},we=M(ue,[["__scopeId","data-v-07c71bd7"]]);export{we as default};
