import{p as P,m as O,a as X,g as N,u as A,c as o,b as oe,d as le,e as J,f as K,h as Q,t as L,i as ne,j as se,k as Z,l as re,n as ge,s as T,o as m,q as fe,V as he,r as G,v as U,w as be,x as j,y as ye,z as M,A as ie,B as Ve,C as ue,D as _e,E as xe,F as ce,G as F,H as ke,I as Se,J as D,K as Be,L as Ce,M as Te,N as we,O as pe,P as Ie,Q as Le,R as Pe,S as Ne,T as Ae,U as Re,W as R,X as Fe,_ as ze,Y as He,Z as Ee,$ as $e,a0 as B,a1 as q,a2 as V,a3 as n,a4 as p,a5 as I,a6 as Ue,a7 as De,a8 as u,a9 as E,aa as W,ab as S,ac as Me,ad as C,ae as Ye,af as je,ag as Oe,ah as Xe,ai as qe,aj as Ge,ak as We}from"./index-b165e33f.js";import{V as Je,a as Ke}from"./VNavigationDrawer-42d1b749.js";import{u as Qe,V as te,a as Ze}from"./VList-a66ea6e6.js";import{V as $,a as Y}from"./VListItem-d967e36e.js";import{V as et}from"./VContainer-ff0ca106.js";import{V as tt}from"./VRow-e917330c.js";import{V as at}from"./VCol-030c10d2.js";import{V as ot}from"./VMenu-db1e8a48.js";import"./VDivider-e41fb7b6.js";const de=P({text:String,...O(),...X()},"VToolbarTitle"),ve=N()({name:"VToolbarTitle",props:de(),setup(e,v){let{slots:t}=v;return A(()=>{const f=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[f&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),lt=[null,"prominent","default","comfortable","compact"],me=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>lt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...oe(),...O(),...le(),...J(),...X({tag:"header"}),...K()},"VToolbar"),ae=N()({name:"VToolbar",props:me(),setup(e,v){var s;let{slots:t}=v;const{backgroundColorClasses:f,backgroundColorStyles:l}=Q(L(e,"color")),{borderClasses:r}=ne(e),{elevationClasses:_}=se(e),{roundedClasses:h}=Z(e),{themeClasses:k}=re(e),{rtlClasses:x}=ge(),i=T(!!(e.extended||(s=t.extension)!=null&&s.call(t))),b=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=m(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return fe({VBtn:{variant:"text"}}),A(()=>{var d;const y=!!(e.title||t.title),a=!!(t.image||e.image),c=(d=t.extension)==null?void 0:d.call(t);return i.value=!!(e.extended||c),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},f.value,r.value,_.value,h.value,k.value,x.value,e.class],style:[l.value,e.style]},{default:()=>[a&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(G,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(he,{key:"image-img",cover:!0,src:e.image},null)]),o(G,{defaults:{VTabs:{height:U(b.value)}}},{default:()=>{var w,z,H;return[o("div",{class:"v-toolbar__content",style:{height:U(b.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(w=t.prepend)==null?void 0:w.call(t)]),y&&o(ve,{key:"title",text:e.title},{text:t.title}),(z=t.default)==null?void 0:z.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(H=t.append)==null?void 0:H.call(t)])])]}}),o(G,{defaults:{VTabs:{height:U(g.value)}}},{default:()=>[o(be,null,{default:()=>[i.value&&o("div",{class:"v-toolbar__extension",style:{height:U(g.value)}},[c])]})]})]})}),{contentHeight:b,extensionHeight:g}}}),nt=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function st(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=v;let f=0;const l=j(null),r=T(0),_=T(0),h=T(0),k=T(!1),x=T(!1),i=m(()=>Number(e.scrollThreshold)),b=m(()=>ye((i.value-r.value)/i.value||0)),g=()=>{const s=l.value;!s||t&&!t.value||(f=r.value,r.value="window"in s?s.pageYOffset:s.scrollTop,x.value=r.value<f,h.value=Math.abs(r.value-i.value))};return M(x,()=>{_.value=_.value||r.value}),M(k,()=>{_.value=0}),ie(()=>{M(()=>e.scrollTarget,s=>{var a;const y=s?document.querySelector(s):window;y&&y!==l.value&&((a=l.value)==null||a.removeEventListener("scroll",g),l.value=y,l.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Ve(()=>{var s;(s=l.value)==null||s.removeEventListener("scroll",g)}),t&&M(t,g,{immediate:!0}),{scrollThreshold:i,currentScroll:r,currentThreshold:h,isScrollActive:k,scrollRatio:b,isScrollingUp:x,savedScroll:_}}const rt=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...me(),...ue(),...nt(),height:{type:[Number,String],default:64}},"VAppBar"),it=N()({name:"VAppBar",props:rt(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const f=j(),l=_e(e,"modelValue"),r=m(()=>{var w;const d=new Set(((w=e.scrollBehavior)==null?void 0:w.split(" "))??[]);return{hide:d.has("hide"),inverted:d.has("inverted"),collapse:d.has("collapse"),elevate:d.has("elevate"),fadeImage:d.has("fade-image")}}),_=m(()=>{const d=r.value;return d.hide||d.inverted||d.collapse||d.elevate||d.fadeImage||!l.value}),{currentScroll:h,scrollThreshold:k,isScrollingUp:x,scrollRatio:i}=st(e,{canScroll:_}),b=m(()=>e.collapse||r.value.collapse&&(r.value.inverted?i.value>0:i.value===0)),g=m(()=>e.flat||r.value.elevate&&(r.value.inverted?h.value>0:h.value===0)),s=m(()=>r.value.fadeImage?r.value.inverted?1-i.value:i.value:void 0),y=m(()=>{var z,H;if(r.value.hide&&r.value.inverted)return 0;const d=((z=f.value)==null?void 0:z.contentHeight)??0,w=((H=f.value)==null?void 0:H.extensionHeight)??0;return d+w});xe(m(()=>!!e.scrollBehavior),()=>{ke(()=>{r.value.hide?r.value.inverted?l.value=h.value>k.value:l.value=x.value||h.value<k.value:l.value=!0})});const{ssrBootStyles:a}=Qe(),{layoutItemStyles:c}=ce({id:e.name,order:m(()=>parseInt(e.order,10)),position:L(e,"location"),layoutSize:y,elementSize:T(void 0),active:l,absolute:L(e,"absolute")});return A(()=>{const d=ae.filterProps(e);return o(ae,F({ref:f,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...c.value,"--v-toolbar-image-opacity":s.value,height:void 0,...a.value},e.style]},d,{collapse:b.value,flat:g.value}),t)}),{}}}),ut=P({...Se({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ct=N()({name:"VAppBarNavIcon",props:ut(),setup(e,v){let{slots:t}=v;return A(()=>o(D,F(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),dt=N()({name:"VAppBarTitle",props:de(),setup(e,v){let{slots:t}=v;return A(()=>o(ve,F(e,{class:"v-app-bar-title"}),t)),{}}});const vt=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...O(),...Ce({location:"top end"}),...J(),...X(),...K(),...Te({transition:"scale-rotate-transition"})},"VBadge"),mt=N()({name:"VBadge",inheritAttrs:!1,props:vt(),setup(e,v){const{backgroundColorClasses:t,backgroundColorStyles:f}=Q(L(e,"color")),{roundedClasses:l}=Z(e),{t:r}=we(),{textColorClasses:_,textColorStyles:h}=pe(L(e,"textColor")),{themeClasses:k}=Ie(),{locationStyles:x}=Le(e,!0,i=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(i)?+(e.offsetY??0):["left","right"].includes(i)?+(e.offsetX??0):0));return A(()=>{const i=Number(e.content),b=!e.max||isNaN(i)?e.content:i<=+e.max?i:`${e.max}+`,[g,s]=Pe(v.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},s,{style:e.style}),{default:()=>{var y,a;return[o("div",{class:"v-badge__wrapper"},[(a=(y=v.slots).default)==null?void 0:a.call(y),o(Ne,{transition:e.transition},{default:()=>{var c,d;return[Ae(o("span",F({class:["v-badge__badge",k.value,t.value,l.value,_.value],style:[f.value,h.value,e.inline?{}:x.value],"aria-atomic":"true","aria-label":r(e.label,i),"aria-live":"polite",role:"status"},g),[e.dot?void 0:v.slots.badge?(d=(c=v.slots).badge)==null?void 0:d.call(c):e.icon?o(R,{icon:e.icon},null):b]),[[Re,e.modelValue]])]}})])]}})}),{}}});const gt=P({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...oe(),...O(),...le(),...ue(),...J(),...X({tag:"footer"}),...K()},"VFooter"),ft=N()({name:"VFooter",props:gt(),setup(e,v){let{slots:t}=v;const{themeClasses:f}=re(e),{backgroundColorClasses:l,backgroundColorStyles:r}=Q(L(e,"color")),{borderClasses:_}=ne(e),{elevationClasses:h}=se(e),{roundedClasses:k}=Z(e),x=T(32),{resizeRef:i}=Fe(s=>{s.length&&(x.value=s[0].target.clientHeight)}),b=m(()=>e.height==="auto"?x.value:parseInt(e.height,10)),{layoutItemStyles:g}=ce({id:e.name,order:m(()=>parseInt(e.order,10)),position:m(()=>"bottom"),layoutSize:b,elementSize:m(()=>e.height==="auto"?void 0:b.value),active:m(()=>e.app),absolute:L(e,"absolute")});return A(()=>o(e.tag,{ref:i,class:["v-footer",f.value,l.value,_.value,h.value,k.value,e.class],style:[r.value,e.app?g.value:{height:U(e.height)},e.style]},t)),{}}}),ht=""+new URL("icon-70fb5cd2.png",import.meta.url).href;const ee=e=>(Ye("data-v-efe32c97"),e=e(),je(),e),bt=ee(()=>q("div",null,null,-1)),yt={id:"page"},Vt={key:1},_t=ee(()=>q("img",{src:ht,alt:"剪單"},null,-1)),xt=ee(()=>q("strong",null,"剪單",-1)),kt={__name:"FrontLayout",setup(e){const{apiAuth:v}=We(),t=Ue(),f=He(),l=Ee(),{mobile:r}=$e(),_=m(()=>r.value),h=j(!1),k=m(()=>[{to:"/serve",text:"服務",icon:"mdi-head-heart",show:l.isLogin||!l.isLogin},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!l.isLogin},{to:"/login",text:"登入",icon:"mdi-login",show:!l.isLogin},{icon:"mdi-calendar",text:"預約",show:l.isLogin,subItems:[{to:"/reserve",text:"立即預約",icon:"mdi-calendar-plus"},{to:"/check",text:"預約紀錄",icon:"mdi-calendar-text"}]},{icon:"mdi-cart",text:"商品",show:l.isLogin,subItems:[{to:"/buy",text:"商品列表",icon:"mdi-cart"},{to:"/cart",text:"購物車",icon:"mdi-cart"},{to:"/orders",text:"訂單",icon:"mdi-list-box"}]},{to:"/admin",text:"管理",icon:"mdi-cog",show:l.isLogin&&l.isAdmin},{to:"/manage",text:"會員資料",icon:"mdi-account",show:l.isLogin}]),x=async()=>{var g,s;try{await v.delete("/users/logout"),l.logout(),f({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),t.push("/")}catch(y){const a=((s=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:s.message)||"發生錯誤，請稍後再試";f({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},i=m(()=>[{name:"Home",to:"/"},{name:"serve",to:"/serve"},{name:"product",to:"/buy"},{name:"reserve",to:"/reserve"},{name:"about us"}]),b=j(!0);return ie(()=>{setTimeout(()=>{b.value=!1},1e3)}),(g,s)=>{const y=De("RouterView");return u(),B(I,null,[bt,q("div",yt,[b.value?(u(),V(Oe,{key:0,indeterminate:"",color:"brown-lighten-3","model-value":"20",size:58,width:5})):(u(),B("div",Vt,[_.value?(u(),V(Je,{key:0,modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=a=>h.value=a),temporary:"",location:"left"},{default:n(()=>[o(te,{nav:""},{default:n(()=>[(u(!0),B(I,null,E(k.value,a=>(u(),B(I,{key:a},[a.subItems&&a.subItems.length>0?(u(),V(Ze,{key:0,modelValue:a.active,"onUpdate:modelValue":c=>a.active=c,"prepend-icon":a.icon},Xe({default:n(()=>[(u(!0),B(I,null,E(a.subItems,c=>(u(),V($,{key:c.to,to:c.to},{default:n(()=>[o(R,{class:"mx-2",icon:c.icon,size:18},null,8,["icon"]),S(C(c.text),1)]),_:2},1032,["to"]))),128))]),_:2},[a.show?{name:"activator",fn:n(({props:c})=>[o($,qe(Ge(c)),{default:n(()=>[o(Y,null,{default:n(()=>[S(C(a.text),1)]),_:2},1024)]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","prepend-icon"])):(u(),V($,{key:1,to:a.to},{default:n(()=>[o(R,{icon:a.icon},null,8,["icon"]),o(Y,null,{default:n(()=>[S(C(a.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128)),W(l).isLogin?(u(),V($,{key:0,onClick:x},{prepend:n(()=>[o(R,{icon:"mdi-logout"})]),default:n(()=>[o(Y,null,{default:n(()=>[S("登出")]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1},8,["modelValue"])):p("",!0),o(it,null,{default:n(()=>[o(et,{class:"d-flex align-center"},{default:n(()=>[o(D,{to:"/",active:!1,style:{width:"100px",height:"100px"}},{default:n(()=>[o(dt,{style:{"font-size":"2rem"}},{default:n(()=>[_t]),_:1})]),_:1}),o(Me),_.value?(u(),V(ct,{key:0,onClick:s[1]||(s[1]=a=>h.value=!0)})):(u(!0),B(I,{key:1},E(k.value,a=>(u(),V(ot,{key:a.to,"open-on-hover":""},{activator:n(({props:c})=>[a.show?(u(),V(D,F({key:0},c,{text:"",key:a.to,to:a.to}),{default:n(()=>[a.icon?(u(),V(R,{key:0},{default:n(()=>[S(C(a.icon),1)]),_:2},1024)):p("",!0),S(C(a.text),1),a.to==="/cart"?(u(),V(mt,{key:1,color:"error",content:W(l).cart,floating:""},null,8,["content"])):p("",!0)]),_:2},1040,["to"])):p("",!0)]),default:n(()=>[a.subItems&&a.subItems.length>0?(u(),V(te,{key:0},{default:n(()=>[(u(!0),B(I,null,E(a.subItems,c=>(u(),V($,{key:c.to,to:c.to},{default:n(()=>[o(Y,null,{default:n(()=>[o(R,{class:"mx-2",icon:c.icon,size:16},null,8,["icon"]),S(C(c.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):p("",!0)]),_:2},1024))),128)),W(l).isLogin?(u(),V(D,{key:2,"prepend-icon":"mdi-logout",onClick:x},{default:n(()=>[S("登出")]),_:1})):p("",!0)]),_:1})]),_:1}),o(Ke,null,{default:n(()=>[(u(),V(y,{key:g.$route.path}))]),_:1}),o(ft,null,{default:n(()=>[o(tt,{justify:"center","no-gutters":""},{default:n(()=>[(u(!0),B(I,null,E(i.value,a=>(u(),V(D,{class:"mx-2",key:a,color:"white",variant:"text",rounded:"xl",to:a.to},{default:n(()=>[S(C(a.name),1)]),_:2},1032,["to"]))),128)),o(at,{class:"text-center mt-4",cols:"12"},{default:n(()=>[S(C(new Date().getFullYear())+" — ",1),xt]),_:1})]),_:1})]),_:1})]))])],64)}}},Nt=ze(kt,[["__scopeId","data-v-efe32c97"]]);export{Nt as default};
