import{p as I,m as Y,a as O,g as N,u as L,c as a,b as ae,d as oe,e as W,f as G,h as J,t as w,i as le,j as ne,k as K,l as se,n as ve,s as B,o as m,q as me,V as ge,r as X,v as E,w as fe,x as Q,y as he,z as D,A as be,B as ye,C as re,D as Ve,E as xe,F as ie,G as R,H as _e,I as Se,J as $,K as ke,L as Be,M as Ce,N as Te,O as we,P as Ie,Q as Ne,R as Le,S as Pe,T as pe,U as Ae,W as z,X as Re,_ as Fe,Y as He,Z as Ee,$ as $e,a0 as P,a1 as _,a2 as r,a3 as S,a4 as p,a5 as ze,a6 as De,a7 as v,a8 as U,a9 as M,aa as k,ab as Ue,ac as A,ad as Me,ae as Ye,af as Oe,ag as Xe}from"./index-9b69bf0a.js";import{V as je,a as qe}from"./VNavigationDrawer-ae4eed80.js";import{u as We,V as Z}from"./VList-49ebe5e0.js";import{V as j,a as q}from"./VListItem-381917c6.js";import{V as Ge}from"./VContainer-9c07e721.js";import{V as Je}from"./VRow-1ea05bcc.js";import{V as Ke}from"./VCol-eb0e3ec7.js";import{V as Qe}from"./VMenu-7fb9c6e2.js";import"./VDivider-9a34c3a4.js";const ue=I({text:String,...Y(),...O()},"VToolbarTitle"),ce=N()({name:"VToolbarTitle",props:ue(),setup(e,d){let{slots:t}=d;return L(()=>{const f=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[f&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),Ze=[null,"prominent","default","comfortable","compact"],de=I({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ze.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ae(),...Y(),...oe(),...W(),...O({tag:"header"}),...G()},"VToolbar"),ee=N()({name:"VToolbar",props:de(),setup(e,d){var s;let{slots:t}=d;const{backgroundColorClasses:f,backgroundColorStyles:l}=J(w(e,"color")),{borderClasses:n}=le(e),{elevationClasses:y}=ne(e),{roundedClasses:h}=K(e),{themeClasses:x}=se(e),{rtlClasses:V}=ve(),i=B(!!(e.extended||(s=t.extension)!=null&&s.call(t))),g=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),u=m(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return me({VBtn:{variant:"text"}}),L(()=>{var c;const o=!!(e.title||t.title),b=!!(t.image||e.image),C=(c=t.extension)==null?void 0:c.call(t);return i.value=!!(e.extended||C),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},f.value,n.value,y.value,h.value,x.value,V.value,e.class],style:[l.value,e.style]},{default:()=>[b&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(ge,{key:"image-img",cover:!0,src:e.image},null)]),a(X,{defaults:{VTabs:{height:E(g.value)}}},{default:()=>{var T,F,H;return[a("div",{class:"v-toolbar__content",style:{height:E(g.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(T=t.prepend)==null?void 0:T.call(t)]),o&&a(ce,{key:"title",text:e.title},{text:t.title}),(F=t.default)==null?void 0:F.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(H=t.append)==null?void 0:H.call(t)])])]}}),a(X,{defaults:{VTabs:{height:E(u.value)}}},{default:()=>[a(fe,null,{default:()=>[i.value&&a("div",{class:"v-toolbar__extension",style:{height:E(u.value)}},[C])]})]})]})}),{contentHeight:g,extensionHeight:u}}}),et=I({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function tt(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=d;let f=0;const l=Q(null),n=B(0),y=B(0),h=B(0),x=B(!1),V=B(!1),i=m(()=>Number(e.scrollThreshold)),g=m(()=>he((i.value-n.value)/i.value||0)),u=()=>{const s=l.value;!s||t&&!t.value||(f=n.value,n.value="window"in s?s.pageYOffset:s.scrollTop,V.value=n.value<f,h.value=Math.abs(n.value-i.value))};return D(V,()=>{y.value=y.value||n.value}),D(x,()=>{y.value=0}),be(()=>{D(()=>e.scrollTarget,s=>{var b;const o=s?document.querySelector(s):window;o&&o!==l.value&&((b=l.value)==null||b.removeEventListener("scroll",u),l.value=o,l.value.addEventListener("scroll",u,{passive:!0}))},{immediate:!0})}),ye(()=>{var s;(s=l.value)==null||s.removeEventListener("scroll",u)}),t&&D(t,u,{immediate:!0}),{scrollThreshold:i,currentScroll:n,currentThreshold:h,isScrollActive:x,scrollRatio:g,isScrollingUp:V,savedScroll:y}}const at=I({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...de(),...re(),...et(),height:{type:[Number,String],default:64}},"VAppBar"),ot=N()({name:"VAppBar",props:at(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:t}=d;const f=Q(),l=Ve(e,"modelValue"),n=m(()=>{var T;const c=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:c.has("hide"),inverted:c.has("inverted"),collapse:c.has("collapse"),elevate:c.has("elevate"),fadeImage:c.has("fade-image")}}),y=m(()=>{const c=n.value;return c.hide||c.inverted||c.collapse||c.elevate||c.fadeImage||!l.value}),{currentScroll:h,scrollThreshold:x,isScrollingUp:V,scrollRatio:i}=tt(e,{canScroll:y}),g=m(()=>e.collapse||n.value.collapse&&(n.value.inverted?i.value>0:i.value===0)),u=m(()=>e.flat||n.value.elevate&&(n.value.inverted?h.value>0:h.value===0)),s=m(()=>n.value.fadeImage?n.value.inverted?1-i.value:i.value:void 0),o=m(()=>{var F,H;if(n.value.hide&&n.value.inverted)return 0;const c=((F=f.value)==null?void 0:F.contentHeight)??0,T=((H=f.value)==null?void 0:H.extensionHeight)??0;return c+T});xe(m(()=>!!e.scrollBehavior),()=>{_e(()=>{n.value.hide?n.value.inverted?l.value=h.value>x.value:l.value=V.value||h.value<x.value:l.value=!0})});const{ssrBootStyles:b}=We(),{layoutItemStyles:C}=ie({id:e.name,order:m(()=>parseInt(e.order,10)),position:w(e,"location"),layoutSize:o,elementSize:B(void 0),active:l,absolute:w(e,"absolute")});return L(()=>{const c=ee.filterProps(e);return a(ee,R({ref:f,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":s.value,height:void 0,...b.value},e.style]},c,{collapse:g.value,flat:u.value}),t)}),{}}}),lt=I({...Se({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),nt=N()({name:"VAppBarNavIcon",props:lt(),setup(e,d){let{slots:t}=d;return L(()=>a($,R(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),st=N()({name:"VAppBarTitle",props:ue(),setup(e,d){let{slots:t}=d;return L(()=>a(ce,R(e,{class:"v-app-bar-title"}),t)),{}}});const rt=I({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ke,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Y(),...Be({location:"top end"}),...W(),...O(),...G(),...Ce({transition:"scale-rotate-transition"})},"VBadge"),te=N()({name:"VBadge",inheritAttrs:!1,props:rt(),setup(e,d){const{backgroundColorClasses:t,backgroundColorStyles:f}=J(w(e,"color")),{roundedClasses:l}=K(e),{t:n}=Te(),{textColorClasses:y,textColorStyles:h}=we(w(e,"textColor")),{themeClasses:x}=Ie(),{locationStyles:V}=Ne(e,!0,i=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(i)?+(e.offsetY??0):["left","right"].includes(i)?+(e.offsetX??0):0));return L(()=>{const i=Number(e.content),g=!e.max||isNaN(i)?e.content:i<=+e.max?i:`${e.max}+`,[u,s]=Le(d.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,R({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},s,{style:e.style}),{default:()=>{var o,b;return[a("div",{class:"v-badge__wrapper"},[(b=(o=d.slots).default)==null?void 0:b.call(o),a(Pe,{transition:e.transition},{default:()=>{var C,c;return[pe(a("span",R({class:["v-badge__badge",x.value,t.value,l.value,y.value],style:[f.value,h.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":n(e.label,i),"aria-live":"polite",role:"status"},u),[e.dot?void 0:d.slots.badge?(c=(C=d.slots).badge)==null?void 0:c.call(C):e.icon?a(z,{icon:e.icon},null):g]),[[Ae,e.modelValue]])]}})])]}})}),{}}});const it=I({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ae(),...Y(),...oe(),...re(),...W(),...O({tag:"footer"}),...G()},"VFooter"),ut=N()({name:"VFooter",props:it(),setup(e,d){let{slots:t}=d;const{themeClasses:f}=se(e),{backgroundColorClasses:l,backgroundColorStyles:n}=J(w(e,"color")),{borderClasses:y}=le(e),{elevationClasses:h}=ne(e),{roundedClasses:x}=K(e),V=B(32),{resizeRef:i}=Re(s=>{s.length&&(V.value=s[0].target.clientHeight)}),g=m(()=>e.height==="auto"?V.value:parseInt(e.height,10)),{layoutItemStyles:u}=ie({id:e.name,order:m(()=>parseInt(e.order,10)),position:m(()=>"bottom"),layoutSize:g,elementSize:m(()=>e.height==="auto"?void 0:g.value),active:m(()=>e.app),absolute:w(e,"absolute")});return L(()=>a(e.tag,{ref:i,class:["v-footer",f.value,l.value,y.value,h.value,x.value,e.class],style:[n.value,e.app?u.value:{height:E(e.height)},e.style]},t)),{}}});const ct=e=>(Me("data-v-fbf06ba0"),e=e(),Ye(),e),dt=ct(()=>Oe("strong",null,"剪單",-1)),vt={__name:"FrontLayout",setup(e){const{apiAuth:d}=Xe(),t=ze(),f=He(),l=Ee(),{mobile:n}=$e(),y=m(()=>n.value),h=Q(!1),x=m(()=>[{to:"/serve",text:"服務",icon:"mdi-head-heart",show:l.isLogin||!l.isLogin},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!l.isLogin},{to:"/login",text:"登入",icon:"mdi-login",show:!l.isLogin},{icon:"mdi-calendar",text:"預約",show:l.isLogin,subItems:[{to:"/reserve",text:"立即預約",icon:"mdi-calendar-plus"},{to:"/check",text:"預約紀錄",icon:"mdi-calendar-text"}]},{icon:"mdi-cart",text:"商品",show:l.isLogin,subItems:[{to:"/buy",text:"商品列表",icon:"mdi-cart"},{to:"/cart",text:"購物車",icon:"mdi-cart"},{to:"/orders",text:"訂單",icon:"mdi-list-box"}]},{to:"/admin",text:"管理",icon:"mdi-cog",show:l.isLogin&&l.isAdmin},{to:"/manage",text:"會員資料",icon:"mdi-account",show:l.isLogin}]),V=async()=>{var g,u;try{await d.delete("/users/logout"),l.logout(),f({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),t.push("/")}catch(s){const o=((u=(g=s==null?void 0:s.response)==null?void 0:g.data)==null?void 0:u.message)||"發生錯誤，請稍後再試";f({text:o,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},i=m(()=>["Home","About Us","Team","Services","Blog","Contact Us"]);return(g,u)=>{const s=De("RouterView");return v(),P(p,null,[y.value?(v(),_(je,{key:0,modelValue:h.value,"onUpdate:modelValue":u[0]||(u[0]=o=>h.value=o),temporary:"",location:"left"},{default:r(()=>[a(Z,{nav:""},{default:r(()=>[(v(!0),P(p,null,U(x.value,o=>(v(),P(p,{key:o.to},[o.show?(v(),_(j,{key:0,to:o.to},{prepend:r(()=>[a(z,{icon:o.icon},null,8,["icon"])]),append:r(()=>[o.to==="/cart"?(v(),_(te,{key:0,color:"error",content:M(l).cart,inline:""},null,8,["content"])):S("",!0)]),default:r(()=>[a(q,null,{default:r(()=>[k(A(o.text),1)]),_:2},1024)]),_:2},1032,["to"])):S("",!0)],64))),128)),M(l).isLogin?(v(),_(j,{key:0,onClick:V},{prepend:r(()=>[a(z,{icon:"mdi-logout"})]),default:r(()=>[a(q,null,{default:r(()=>[k("登出")]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1},8,["modelValue"])):S("",!0),a(ot,null,{default:r(()=>[a(Ge,{class:"d-flex align-center"},{default:r(()=>[a($,{to:"/",active:!1},{default:r(()=>[a(st,{style:{"font-size":"2rem"}},{default:r(()=>[k("剪單")]),_:1})]),_:1}),a(Ue),y.value?(v(),_(nt,{key:0,onClick:u[1]||(u[1]=o=>h.value=!0)})):(v(!0),P(p,{key:1},U(x.value,o=>(v(),_(Qe,{key:o.to,"open-on-hover":""},{activator:r(({props:b})=>[o.show?(v(),_($,R({key:0},b,{text:"",key:o.to,to:o.to}),{default:r(()=>[o.icon?(v(),_(z,{key:0},{default:r(()=>[k(A(o.icon),1)]),_:2},1024)):S("",!0),k(A(o.text),1),o.to==="/cart"?(v(),_(te,{key:1,color:"error",content:M(l).cart,floating:""},null,8,["content"])):S("",!0)]),_:2},1040,["to"])):S("",!0)]),default:r(()=>[o.subItems&&o.subItems.length>0?(v(),_(Z,{key:0},{default:r(()=>[(v(!0),P(p,null,U(o.subItems,b=>(v(),_(j,{key:b.to,to:b.to},{default:r(()=>[a(q,null,{default:r(()=>[a(z,{class:"mx-2",icon:b.icon,size:16},null,8,["icon"]),k(A(b.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):S("",!0)]),_:2},1024))),128)),M(l).isLogin?(v(),_($,{key:2,"prepend-icon":"mdi-logout",onClick:V},{default:r(()=>[k("登出")]),_:1})):S("",!0)]),_:1})]),_:1}),a(qe,null,{default:r(()=>[(v(),_(s,{key:g.$route.path}))]),_:1}),a(ut,null,{default:r(()=>[a(Je,{justify:"center","no-gutters":""},{default:r(()=>[(v(!0),P(p,null,U(i.value,o=>(v(),_($,{class:"mx-2",key:o,color:"white",variant:"text",rounded:"xl"},{default:r(()=>[k(A(o),1)]),_:2},1024))),128)),a(Ke,{class:"text-center mt-4",cols:"12"},{default:r(()=>[k(A(new Date().getFullYear())+" — ",1),dt]),_:1})]),_:1})]),_:1})],64)}}},St=Fe(vt,[["__scopeId","data-v-fbf06ba0"]]);export{St as default};
