import{p as N,m as j,a as O,g as P,u as A,c as o,b as te,d as ae,e as G,f as W,h as J,t as L,i as oe,j as le,k as K,l as ne,n as me,s as B,o as g,q as ge,V as fe,r as X,v as U,w as he,x as Q,y as be,z as M,A as ye,B as Ve,C as se,D as xe,E as _e,F as re,G as F,H as Se,I as ke,J as D,K as Be,L as Ce,M as Te,N as we,O as pe,P as Ie,Q as Le,R as Ne,S as Pe,T as Ae,U as Re,W as R,X as Fe,_ as He,Y as ze,Z as Ee,$ as $e,a0 as w,a1 as x,a2 as n,a3 as p,a4 as I,a5 as Ue,a6 as De,a7 as d,a8 as E,a9 as q,aa as S,ab as Me,ac as k,ad as Ye,ae as je,af as Oe,ag as Xe,ah as qe,ai as ue,aj as Ge}from"./index-173e3c6f.js";import{V as We,a as Je}from"./VNavigationDrawer-bebabf42.js";import{u as Ke,V as Z,a as Qe}from"./VList-c449f83d.js";import{V as $,a as Y}from"./VListItem-b9de2f3c.js";import{V as Ze}from"./VContainer-6af787ea.js";import{V as et}from"./VRow-49f34d31.js";import{V as tt}from"./VCol-e597199d.js";import{V as at}from"./VMenu-4eb55acc.js";import"./VDivider-0660eaea.js";const ie=N({text:String,...j(),...O()},"VToolbarTitle"),ce=P()({name:"VToolbarTitle",props:ie(),setup(e,m){let{slots:t}=m;return A(()=>{const h=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[h&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),ot=[null,"prominent","default","comfortable","compact"],de=N({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ot.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...te(),...j(),...ae(),...G(),...O({tag:"header"}),...W()},"VToolbar"),ee=P()({name:"VToolbar",props:de(),setup(e,m){var r;let{slots:t}=m;const{backgroundColorClasses:h,backgroundColorStyles:l}=J(L(e,"color")),{borderClasses:s}=oe(e),{elevationClasses:y}=le(e),{roundedClasses:b}=K(e),{themeClasses:_}=ne(e),{rtlClasses:V}=me(),u=B(!!(e.extended||(r=t.extension)!=null&&r.call(t))),f=g(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),c=g(()=>u.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ge({VBtn:{variant:"text"}}),A(()=>{var v;const a=!!(e.title||t.title),i=!!(t.image||e.image),C=(v=t.extension)==null?void 0:v.call(t);return u.value=!!(e.extended||C),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},h.value,s.value,y.value,b.value,_.value,V.value,e.class],style:[l.value,e.style]},{default:()=>[i&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(fe,{key:"image-img",cover:!0,src:e.image},null)]),o(X,{defaults:{VTabs:{height:U(f.value)}}},{default:()=>{var T,H,z;return[o("div",{class:"v-toolbar__content",style:{height:U(f.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(T=t.prepend)==null?void 0:T.call(t)]),a&&o(ce,{key:"title",text:e.title},{text:t.title}),(H=t.default)==null?void 0:H.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(z=t.append)==null?void 0:z.call(t)])])]}}),o(X,{defaults:{VTabs:{height:U(c.value)}}},{default:()=>[o(he,null,{default:()=>[u.value&&o("div",{class:"v-toolbar__extension",style:{height:U(c.value)}},[C])]})]})]})}),{contentHeight:f,extensionHeight:c}}}),lt=N({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function nt(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=m;let h=0;const l=Q(null),s=B(0),y=B(0),b=B(0),_=B(!1),V=B(!1),u=g(()=>Number(e.scrollThreshold)),f=g(()=>be((u.value-s.value)/u.value||0)),c=()=>{const r=l.value;!r||t&&!t.value||(h=s.value,s.value="window"in r?r.pageYOffset:r.scrollTop,V.value=s.value<h,b.value=Math.abs(s.value-u.value))};return M(V,()=>{y.value=y.value||s.value}),M(_,()=>{y.value=0}),ye(()=>{M(()=>e.scrollTarget,r=>{var i;const a=r?document.querySelector(r):window;a&&a!==l.value&&((i=l.value)==null||i.removeEventListener("scroll",c),l.value=a,l.value.addEventListener("scroll",c,{passive:!0}))},{immediate:!0})}),Ve(()=>{var r;(r=l.value)==null||r.removeEventListener("scroll",c)}),t&&M(t,c,{immediate:!0}),{scrollThreshold:u,currentScroll:s,currentThreshold:b,isScrollActive:_,scrollRatio:f,isScrollingUp:V,savedScroll:y}}const st=N({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...de(),...se(),...lt(),height:{type:[Number,String],default:64}},"VAppBar"),rt=P()({name:"VAppBar",props:st(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:t}=m;const h=Q(),l=xe(e,"modelValue"),s=g(()=>{var T;const v=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),y=g(()=>{const v=s.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!l.value}),{currentScroll:b,scrollThreshold:_,isScrollingUp:V,scrollRatio:u}=nt(e,{canScroll:y}),f=g(()=>e.collapse||s.value.collapse&&(s.value.inverted?u.value>0:u.value===0)),c=g(()=>e.flat||s.value.elevate&&(s.value.inverted?b.value>0:b.value===0)),r=g(()=>s.value.fadeImage?s.value.inverted?1-u.value:u.value:void 0),a=g(()=>{var H,z;if(s.value.hide&&s.value.inverted)return 0;const v=((H=h.value)==null?void 0:H.contentHeight)??0,T=((z=h.value)==null?void 0:z.extensionHeight)??0;return v+T});_e(g(()=>!!e.scrollBehavior),()=>{Se(()=>{s.value.hide?s.value.inverted?l.value=b.value>_.value:l.value=V.value||b.value<_.value:l.value=!0})});const{ssrBootStyles:i}=Ke(),{layoutItemStyles:C}=re({id:e.name,order:g(()=>parseInt(e.order,10)),position:L(e,"location"),layoutSize:a,elementSize:B(void 0),active:l,absolute:L(e,"absolute")});return A(()=>{const v=ee.filterProps(e);return o(ee,F({ref:h,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...C.value,"--v-toolbar-image-opacity":r.value,height:void 0,...i.value},e.style]},v,{collapse:f.value,flat:c.value}),t)}),{}}}),ut=N({...ke({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),it=P()({name:"VAppBarNavIcon",props:ut(),setup(e,m){let{slots:t}=m;return A(()=>o(D,F(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),ct=P()({name:"VAppBarTitle",props:ie(),setup(e,m){let{slots:t}=m;return A(()=>o(ce,F(e,{class:"v-app-bar-title"}),t)),{}}});const dt=N({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...j(),...Ce({location:"top end"}),...G(),...O(),...W(),...Te({transition:"scale-rotate-transition"})},"VBadge"),vt=P()({name:"VBadge",inheritAttrs:!1,props:dt(),setup(e,m){const{backgroundColorClasses:t,backgroundColorStyles:h}=J(L(e,"color")),{roundedClasses:l}=K(e),{t:s}=we(),{textColorClasses:y,textColorStyles:b}=pe(L(e,"textColor")),{themeClasses:_}=Ie(),{locationStyles:V}=Le(e,!0,u=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(u)?+(e.offsetY??0):["left","right"].includes(u)?+(e.offsetX??0):0));return A(()=>{const u=Number(e.content),f=!e.max||isNaN(u)?e.content:u<=+e.max?u:`${e.max}+`,[c,r]=Ne(m.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},r,{style:e.style}),{default:()=>{var a,i;return[o("div",{class:"v-badge__wrapper"},[(i=(a=m.slots).default)==null?void 0:i.call(a),o(Pe,{transition:e.transition},{default:()=>{var C,v;return[Ae(o("span",F({class:["v-badge__badge",_.value,t.value,l.value,y.value],style:[h.value,b.value,e.inline?{}:V.value],"aria-atomic":"true","aria-label":s(e.label,u),"aria-live":"polite",role:"status"},c),[e.dot?void 0:m.slots.badge?(v=(C=m.slots).badge)==null?void 0:v.call(C):e.icon?o(R,{icon:e.icon},null):f]),[[Re,e.modelValue]])]}})])]}})}),{}}});const mt=N({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...te(),...j(),...ae(),...se(),...G(),...O({tag:"footer"}),...W()},"VFooter"),gt=P()({name:"VFooter",props:mt(),setup(e,m){let{slots:t}=m;const{themeClasses:h}=ne(e),{backgroundColorClasses:l,backgroundColorStyles:s}=J(L(e,"color")),{borderClasses:y}=oe(e),{elevationClasses:b}=le(e),{roundedClasses:_}=K(e),V=B(32),{resizeRef:u}=Fe(r=>{r.length&&(V.value=r[0].target.clientHeight)}),f=g(()=>e.height==="auto"?V.value:parseInt(e.height,10)),{layoutItemStyles:c}=re({id:e.name,order:g(()=>parseInt(e.order,10)),position:g(()=>"bottom"),layoutSize:f,elementSize:g(()=>e.height==="auto"?void 0:f.value),active:g(()=>e.app),absolute:L(e,"absolute")});return A(()=>o(e.tag,{ref:u,class:["v-footer",h.value,l.value,y.value,b.value,_.value,e.class],style:[s.value,e.app?c.value:{height:U(e.height)},e.style]},t)),{}}}),ft=""+new URL("icon-70fb5cd2.png",import.meta.url).href;const ve=e=>(Xe("data-v-7e08c1f5"),e=e(),qe(),e),ht=ve(()=>ue("img",{src:ft,alt:"剪單"},null,-1)),bt=ve(()=>ue("strong",null,"剪單",-1)),yt={__name:"FrontLayout",setup(e){const{apiAuth:m}=Ge(),t=Ue(),h=ze(),l=Ee(),{mobile:s}=$e(),y=g(()=>s.value),b=Q(!1),_=g(()=>[{to:"/serve",text:"服務",icon:"mdi-head-heart",show:l.isLogin||!l.isLogin},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!l.isLogin},{to:"/login",text:"登入",icon:"mdi-login",show:!l.isLogin},{icon:"mdi-calendar",text:"預約",show:l.isLogin,subItems:[{to:"/reserve",text:"立即預約",icon:"mdi-calendar-plus"},{to:"/check",text:"預約紀錄",icon:"mdi-calendar-text"}]},{icon:"mdi-cart",text:"商品",show:l.isLogin,subItems:[{to:"/buy",text:"商品列表",icon:"mdi-cart"},{to:"/cart",text:"購物車",icon:"mdi-cart"},{to:"/orders",text:"訂單",icon:"mdi-list-box"}]},{to:"/admin",text:"管理",icon:"mdi-cog",show:l.isLogin&&l.isAdmin},{to:"/manage",text:"會員資料",icon:"mdi-account",show:l.isLogin}]),V=async()=>{var f,c;try{await m.delete("/users/logout"),l.logout(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),t.push("/")}catch(r){const a=((c=(f=r==null?void 0:r.response)==null?void 0:f.data)==null?void 0:c.message)||"發生錯誤，請稍後再試";h({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},u=g(()=>[{name:"Home",to:"/"},{name:"serve",to:"/serve"},{name:"product",to:"/buy"},{name:"reserve",to:"/reserve"},{name:"about us"}]);return(f,c)=>{const r=De("RouterView");return d(),w(I,null,[y.value?(d(),x(We,{key:0,modelValue:b.value,"onUpdate:modelValue":c[0]||(c[0]=a=>b.value=a),temporary:"",location:"left"},{default:n(()=>[o(Z,{nav:""},{default:n(()=>[(d(!0),w(I,null,E(_.value,a=>(d(),w(I,{key:a},[a.subItems&&a.subItems.length>0?(d(),x(Qe,{key:0,modelValue:a.active,"onUpdate:modelValue":i=>a.active=i,"prepend-icon":a.icon},Ye({default:n(()=>[(d(!0),w(I,null,E(a.subItems,i=>(d(),x($,{key:i.to,to:i.to},{default:n(()=>[o(R,{class:"mx-2",icon:i.icon,size:18},null,8,["icon"]),S(k(i.text),1)]),_:2},1032,["to"]))),128))]),_:2},[a.show?{name:"activator",fn:n(({props:i})=>[o($,je(Oe(i)),{default:n(()=>[o(Y,null,{default:n(()=>[S(k(a.text),1)]),_:2},1024)]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","prepend-icon"])):(d(),x($,{key:1,to:a.to},{default:n(()=>[o(R,{icon:a.icon},null,8,["icon"]),o(Y,null,{default:n(()=>[S(k(a.text),1)]),_:2},1024)]),_:2},1032,["to"]))],64))),128)),q(l).isLogin?(d(),x($,{key:0,onClick:V},{prepend:n(()=>[o(R,{icon:"mdi-logout"})]),default:n(()=>[o(Y,null,{default:n(()=>[S("登出")]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1},8,["modelValue"])):p("",!0),o(rt,null,{default:n(()=>[o(Ze,{class:"d-flex align-center"},{default:n(()=>[o(D,{to:"/",active:!1,style:{width:"100px",height:"100px"}},{default:n(()=>[o(ct,{style:{"font-size":"2rem"}},{default:n(()=>[ht]),_:1})]),_:1}),o(Me),y.value?(d(),x(it,{key:0,onClick:c[1]||(c[1]=a=>b.value=!0)})):(d(!0),w(I,{key:1},E(_.value,a=>(d(),x(at,{key:a.to,"open-on-hover":""},{activator:n(({props:i})=>[a.show?(d(),x(D,F({key:0},i,{text:"",key:a.to,to:a.to}),{default:n(()=>[a.icon?(d(),x(R,{key:0},{default:n(()=>[S(k(a.icon),1)]),_:2},1024)):p("",!0),S(k(a.text),1),a.to==="/cart"?(d(),x(vt,{key:1,color:"error",content:q(l).cart,floating:""},null,8,["content"])):p("",!0)]),_:2},1040,["to"])):p("",!0)]),default:n(()=>[a.subItems&&a.subItems.length>0?(d(),x(Z,{key:0},{default:n(()=>[(d(!0),w(I,null,E(a.subItems,i=>(d(),x($,{key:i.to,to:i.to},{default:n(()=>[o(Y,null,{default:n(()=>[o(R,{class:"mx-2",icon:i.icon,size:16},null,8,["icon"]),S(k(i.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):p("",!0)]),_:2},1024))),128)),q(l).isLogin?(d(),x(D,{key:2,"prepend-icon":"mdi-logout",onClick:V},{default:n(()=>[S("登出")]),_:1})):p("",!0)]),_:1})]),_:1}),o(Je,null,{default:n(()=>[(d(),x(r,{key:f.$route.path}))]),_:1}),o(gt,null,{default:n(()=>[o(et,{justify:"center","no-gutters":""},{default:n(()=>[(d(!0),w(I,null,E(u.value,a=>(d(),x(D,{class:"mx-2",key:a,color:"white",variant:"text",rounded:"xl",to:a.to},{default:n(()=>[S(k(a.name),1)]),_:2},1032,["to"]))),128)),o(tt,{class:"text-center mt-4",cols:"12"},{default:n(()=>[S(k(new Date().getFullYear())+" — ",1),bt]),_:1})]),_:1})]),_:1})],64)}}},pt=He(yt,[["__scopeId","data-v-7e08c1f5"]]);export{pt as default};
