import{p as L,m as O,a as X,g as P,u as N,c as o,b as te,d as ae,e as W,f as J,h as K,t as I,i as oe,j as le,k as Q,l as ne,n as ge,s as w,o as m,q as fe,V as he,r as q,v as U,w as be,x as j,y as ye,z as M,A as se,B as Ve,C as re,D as _e,E as xe,F as ie,G as F,H as ke,I as Se,J as D,K as Be,L as Ce,M as Te,N as we,O as pe,P as Ie,Q as Le,R as Pe,S as Ne,T as Ae,U as Re,W as R,X as Fe,_ as ze,Y as He,Z as Ee,$ as $e,a0 as C,a1 as V,a2 as n,a3 as B,a4 as Ue,a5 as De,a6 as u,a7 as A,a8 as E,a9 as G,aa as S,ab as Me,ac as T,ad as Ye,ae as je,af as Oe,ag as Xe,ah as qe,ai as Ge,aj as ue,ak as We}from"./index-b72e60e3.js";import{V as Je,a as Ke}from"./VNavigationDrawer-50ef2461.js";import{u as Qe,V as Z,a as Ze}from"./VList-f1a5f775.js";import{V as $,a as Y}from"./VListItem-324512fd.js";import{V as et}from"./VContainer-e26e9217.js";import{V as tt}from"./VRow-aadc0885.js";import{V as at}from"./VCol-12261913.js";import{V as ot}from"./VMenu-a8b38384.js";import"./VDivider-3e977bfc.js";const ce=L({text:String,...O(),...X()},"VToolbarTitle"),de=P()({name:"VToolbarTitle",props:ce(),setup(e,v){let{slots:t}=v;return N(()=>{const f=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var l;return[f&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(l=t.default)==null?void 0:l.call(t)])]}})}),{}}}),lt=[null,"prominent","default","comfortable","compact"],ve=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>lt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...te(),...O(),...ae(),...W(),...X({tag:"header"}),...J()},"VToolbar"),ee=P()({name:"VToolbar",props:ve(),setup(e,v){var s;let{slots:t}=v;const{backgroundColorClasses:f,backgroundColorStyles:l}=K(I(e,"color")),{borderClasses:r}=oe(e),{elevationClasses:_}=le(e),{roundedClasses:h}=Q(e),{themeClasses:k}=ne(e),{rtlClasses:x}=ge(),i=w(!!(e.extended||(s=t.extension)!=null&&s.call(t))),b=m(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=m(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return fe({VBtn:{variant:"text"}}),N(()=>{var d;const y=!!(e.title||t.title),a=!!(t.image||e.image),c=(d=t.extension)==null?void 0:d.call(t);return i.value=!!(e.extended||c),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},f.value,r.value,_.value,h.value,k.value,x.value,e.class],style:[l.value,e.style]},{default:()=>[a&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(q,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(he,{key:"image-img",cover:!0,src:e.image},null)]),o(q,{defaults:{VTabs:{height:U(b.value)}}},{default:()=>{var p,z,H;return[o("div",{class:"v-toolbar__content",style:{height:U(b.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(p=t.prepend)==null?void 0:p.call(t)]),y&&o(de,{key:"title",text:e.title},{text:t.title}),(z=t.default)==null?void 0:z.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(H=t.append)==null?void 0:H.call(t)])])]}}),o(q,{defaults:{VTabs:{height:U(g.value)}}},{default:()=>[o(be,null,{default:()=>[i.value&&o("div",{class:"v-toolbar__extension",style:{height:U(g.value)}},[c])]})]})]})}),{contentHeight:b,extensionHeight:g}}}),nt=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function st(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=v;let f=0;const l=j(null),r=w(0),_=w(0),h=w(0),k=w(!1),x=w(!1),i=m(()=>Number(e.scrollThreshold)),b=m(()=>ye((i.value-r.value)/i.value||0)),g=()=>{const s=l.value;!s||t&&!t.value||(f=r.value,r.value="window"in s?s.pageYOffset:s.scrollTop,x.value=r.value<f,h.value=Math.abs(r.value-i.value))};return M(x,()=>{_.value=_.value||r.value}),M(k,()=>{_.value=0}),se(()=>{M(()=>e.scrollTarget,s=>{var a;const y=s?document.querySelector(s):window;y&&y!==l.value&&((a=l.value)==null||a.removeEventListener("scroll",g),l.value=y,l.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Ve(()=>{var s;(s=l.value)==null||s.removeEventListener("scroll",g)}),t&&M(t,g,{immediate:!0}),{scrollThreshold:i,currentScroll:r,currentThreshold:h,isScrollActive:k,scrollRatio:b,isScrollingUp:x,savedScroll:_}}const rt=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ve(),...re(),...nt(),height:{type:[Number,String],default:64}},"VAppBar"),it=P()({name:"VAppBar",props:rt(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const f=j(),l=_e(e,"modelValue"),r=m(()=>{var p;const d=new Set(((p=e.scrollBehavior)==null?void 0:p.split(" "))??[]);return{hide:d.has("hide"),inverted:d.has("inverted"),collapse:d.has("collapse"),elevate:d.has("elevate"),fadeImage:d.has("fade-image")}}),_=m(()=>{const d=r.value;return d.hide||d.inverted||d.collapse||d.elevate||d.fadeImage||!l.value}),{currentScroll:h,scrollThreshold:k,isScrollingUp:x,scrollRatio:i}=st(e,{canScroll:_}),b=m(()=>e.collapse||r.value.collapse&&(r.value.inverted?i.value>0:i.value===0)),g=m(()=>e.flat||r.value.elevate&&(r.value.inverted?h.value>0:h.value===0)),s=m(()=>r.value.fadeImage?r.value.inverted?1-i.value:i.value:void 0),y=m(()=>{var z,H;if(r.value.hide&&r.value.inverted)return 0;const d=((z=f.value)==null?void 0:z.contentHeight)??0,p=((H=f.value)==null?void 0:H.extensionHeight)??0;return d+p});xe(m(()=>!!e.scrollBehavior),()=>{ke(()=>{r.value.hide?r.value.inverted?l.value=h.value>k.value:l.value=x.value||h.value<k.value:l.value=!0})});const{ssrBootStyles:a}=Qe(),{layoutItemStyles:c}=ie({id:e.name,order:m(()=>parseInt(e.order,10)),position:I(e,"location"),layoutSize:y,elementSize:w(void 0),active:l,absolute:I(e,"absolute")});return N(()=>{const d=ee.filterProps(e);return o(ee,F({ref:f,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...c.value,"--v-toolbar-image-opacity":s.value,height:void 0,...a.value},e.style]},d,{collapse:b.value,flat:g.value}),t)}),{}}}),ut=L({...Se({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ct=P()({name:"VAppBarNavIcon",props:ut(),setup(e,v){let{slots:t}=v;return N(()=>o(D,F(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),dt=P()({name:"VAppBarTitle",props:ce(),setup(e,v){let{slots:t}=v;return N(()=>o(de,F(e,{class:"v-app-bar-title"}),t)),{}}});const vt=L({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...O(),...Ce({location:"top end"}),...W(),...X(),...J(),...Te({transition:"scale-rotate-transition"})},"VBadge"),mt=P()({name:"VBadge",inheritAttrs:!1,props:vt(),setup(e,v){const{backgroundColorClasses:t,backgroundColorStyles:f}=K(I(e,"color")),{roundedClasses:l}=Q(e),{t:r}=we(),{textColorClasses:_,textColorStyles:h}=pe(I(e,"textColor")),{themeClasses:k}=Ie(),{locationStyles:x}=Le(e,!0,i=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(i)?+(e.offsetY??0):["left","right"].includes(i)?+(e.offsetX??0):0));return N(()=>{const i=Number(e.content),b=!e.max||isNaN(i)?e.content:i<=+e.max?i:`${e.max}+`,[g,s]=Pe(v.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},s,{style:e.style}),{default:()=>{var y,a;return[o("div",{class:"v-badge__wrapper"},[(a=(y=v.slots).default)==null?void 0:a.call(y),o(Ne,{transition:e.transition},{default:()=>{var c,d;return[Ae(o("span",F({class:["v-badge__badge",k.value,t.value,l.value,_.value],style:[f.value,h.value,e.inline?{}:x.value],"aria-atomic":"true","aria-label":r(e.label,i),"aria-live":"polite",role:"status"},g),[e.dot?void 0:v.slots.badge?(d=(c=v.slots).badge)==null?void 0:d.call(c):e.icon?o(R,{icon:e.icon},null):b]),[[Re,e.modelValue]])]}})])]}})}),{}}});const gt=L({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...te(),...O(),...ae(),...re(),...W(),...X({tag:"footer"}),...J()},"VFooter"),ft=P()({name:"VFooter",props:gt(),setup(e,v){let{slots:t}=v;const{themeClasses:f}=ne(e),{backgroundColorClasses:l,backgroundColorStyles:r}=K(I(e,"color")),{borderClasses:_}=oe(e),{elevationClasses:h}=le(e),{roundedClasses:k}=Q(e),x=w(32),{resizeRef:i}=Fe(s=>{s.length&&(x.value=s[0].target.clientHeight)}),b=m(()=>e.height==="auto"?x.value:parseInt(e.height,10)),{layoutItemStyles:g}=ie({id:e.name,order:m(()=>parseInt(e.order,10)),position:m(()=>"bottom"),layoutSize:b,elementSize:m(()=>e.height==="auto"?void 0:b.value),active:m(()=>e.app),absolute:I(e,"absolute")});return N(()=>o(e.tag,{ref:i,class:["v-footer",f.value,l.value,_.value,h.value,k.value,e.class],style:[r.value,e.app?g.value:{height:U(e.height)},e.style]},t)),{}}}),ht=""+new URL("icon-70fb5cd2.png",import.meta.url).href;const me=e=>(qe("data-v-5f329857"),e=e(),Ge(),e),bt={class:"loading"},yt={key:1},Vt=me(()=>ue("img",{src:ht,alt:"剪單"},null,-1)),_t=me(()=>ue("strong",null,"剪單",-1)),xt={__name:"FrontLayout",setup(e){const{apiAuth:v}=We(),t=Ue(),f=He(),l=Ee(),{mobile:r}=$e(),_=m(()=>r.value),h=j(!1),k=m(()=>[{to:"/serve",text:"服務",icon:"mdi-head-heart",show:l.isLogin||!l.isLogin},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!l.isLogin},{to:"/login",text:"登入",icon:"mdi-login",show:!l.isLogin},{icon:"mdi-calendar",text:"預約",show:l.isLogin,subItems:[{to:"/reserve",text:"立即預約",icon:"mdi-calendar-plus"},{to:"/check",text:"預約紀錄",icon:"mdi-calendar-text"}]},{icon:"mdi-cart",text:"商品",show:l.isLogin,subItems:[{to:"/buy",text:"商品列表",icon:"mdi-cart"},{to:"/cart",text:"購物車",icon:"mdi-cart"},{to:"/orders",text:"訂單",icon:"mdi-list-box"}]},{to:"/admin",text:"管理",icon:"mdi-cog",show:l.isLogin&&l.isAdmin},{to:"/manage",text:"會員資料",icon:"mdi-account",show:l.isLogin}]),x=async()=>{var g,s;try{await v.delete("/users/logout"),l.logout(),f({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),t.push("/")}catch(y){const a=((s=(g=y==null?void 0:y.response)==null?void 0:g.data)==null?void 0:s.message)||"發生錯誤，請稍後再試";f({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},i=m(()=>[{name:"Home",to:"/"},{name:"serve",to:"/serve"},{name:"product",to:"/buy"},{name:"reserve",to:"/reserve"},{name:"about us"}]),b=j(!0);return se(()=>{setTimeout(()=>{b.value=!1},1e3)}),(g,s)=>{const y=De("RouterView");return u(),C("div",bt,[b.value?(u(),V(Ye,{key:0,indeterminate:"",color:"brown-lighten-3","model-value":"20",size:58,width:5})):(u(),C("div",yt,[_.value?(u(),V(Je,{key:0,modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=a=>h.value=a),temporary:"",location:"left"},{default:n(()=>[o(Z,{nav:""},{default:n(()=>[(u(!0),C(A,null,E(k.value,a=>(u(),C(A,{key:a},[a.subItems&&a.subItems.length>0?(u(),V(Ze,{key:0,modelValue:a.active,"onUpdate:modelValue":c=>a.active=c,"prepend-icon":a.icon},je({default:n(()=>[(u(!0),C(A,null,E(a.subItems,c=>(u(),V($,{key:c.to,to:c.to},{default:n(()=>[o(R,{class:"mx-2",icon:c.icon,size:18},null,8,["icon"]),S(T(c.text),1)]),_:2},1032,["to"]))),128))]),_:2},[a.show?{name:"activator",fn:n(({props:c})=>[o($,Oe(Xe(c)),{default:n(()=>[o(Y,null,{default:n(()=>[S(T(a.text),1)]),_:2},1024)]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","prepend-icon"])):B("",!0),a.show?(u(),V($,{key:1,to:a.to},{default:n(()=>[o(R,{icon:a.icon},null,8,["icon"]),o(Y,null,{default:n(()=>[S(T(a.text),1)]),_:2},1024)]),_:2},1032,["to"])):B("",!0)],64))),128)),G(l).isLogin?(u(),V($,{key:0,onClick:x},{prepend:n(()=>[o(R,{icon:"mdi-logout"})]),default:n(()=>[o(Y,null,{default:n(()=>[S("登出")]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1},8,["modelValue"])):B("",!0),o(it,null,{default:n(()=>[o(et,{class:"d-flex align-center"},{default:n(()=>[o(D,{to:"/",active:!1,style:{width:"100px",height:"100px"}},{default:n(()=>[o(dt,{style:{"font-size":"2rem"}},{default:n(()=>[Vt]),_:1})]),_:1}),o(Me),_.value?(u(),V(ct,{key:0,onClick:s[1]||(s[1]=a=>h.value=!0)})):(u(!0),C(A,{key:1},E(k.value,a=>(u(),V(ot,{key:a.to,"open-on-hover":""},{activator:n(({props:c})=>[a.show?(u(),V(D,F({key:0},c,{text:"",key:a.to,to:a.to}),{default:n(()=>[a.icon?(u(),V(R,{key:0},{default:n(()=>[S(T(a.icon),1)]),_:2},1024)):B("",!0),S(T(a.text),1),a.to==="/cart"?(u(),V(mt,{key:1,color:"error",content:G(l).cart,floating:""},null,8,["content"])):B("",!0)]),_:2},1040,["to"])):B("",!0)]),default:n(()=>[a.subItems&&a.subItems.length>0?(u(),V(Z,{key:0},{default:n(()=>[(u(!0),C(A,null,E(a.subItems,c=>(u(),V($,{key:c.to,to:c.to},{default:n(()=>[o(Y,null,{default:n(()=>[o(R,{class:"mx-2",icon:c.icon,size:16},null,8,["icon"]),S(T(c.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)):B("",!0)]),_:2},1024))),128)),G(l).isLogin?(u(),V(D,{key:2,"prepend-icon":"mdi-logout",onClick:x},{default:n(()=>[S("登出")]),_:1})):B("",!0)]),_:1})]),_:1}),o(Ke,null,{default:n(()=>[(u(),V(y,{key:g.$route.path}))]),_:1}),o(ft,null,{default:n(()=>[o(tt,{justify:"center","no-gutters":""},{default:n(()=>[(u(!0),C(A,null,E(i.value,a=>(u(),V(D,{class:"mx-2",key:a,color:"white",variant:"text",rounded:"xl",to:a.to},{default:n(()=>[S(T(a.name),1)]),_:2},1032,["to"]))),128)),o(at,{class:"text-center mt-4",cols:"12"},{default:n(()=>[S(T(new Date().getFullYear())+" — ",1),_t]),_:1})]),_:1})]),_:1})]))])}}},Pt=ze(xt,[["__scopeId","data-v-5f329857"]]);export{Pt as default};
